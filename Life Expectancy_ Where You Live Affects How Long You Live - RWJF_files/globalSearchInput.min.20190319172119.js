!function o(u,s,c){function i(t,e){if(!s[t]){if(!u[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var a=s[t]={exports:{}};u[t][0].call(a.exports,function(e){return i(u[t][1][e]||e)},a,a.exports,o,u,s,c)}return s[t].exports}for(var l="function"==typeof require&&require,e=0;e<c.length;e++)i(c[e]);return i}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=a(e("react")),c=a(e("./Filters/SearchInput.jsx")),r=e("prop-types");function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var o=function(e){function u(){var e,t,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=a=i(this,(e=u.__proto__||Object.getPrototypeOf(u)).call.apply(e,[this].concat(r)))).state={searchkeyword:""},a.updateKeyword=function(e){a.setState({searchKeyword:e})},a.updateSelected=function(e){a.setState({searchKeyword:e});var t={keyword:document.getElementById("searchInput").value};a.setState({query:t})},a.onChange=function(e,t){var n=t.newValue;t.method;a.setState({value:n})},a.render=function(){var e=a.props,t=e.dataName,n=e.id,r=(function(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}(e,["dataName","id"]),a.state.searchKeyword);return s.default.createElement(c.default,{className:"search-bar__input",onQueryChange:a.updateKeyword,onSelectChange:a.updateSelected,searchKeyword:r,dataName:t,id:n})},i(a,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,s.default.Component),u}();o.propTypes={className:r.string},n.default=o},{"./Filters/SearchInput.jsx":2,"prop-types":"prop-types",react:"react"}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var d=o(e("react")),r=e("prop-types"),f=o(e("react-autosuggest")),a=o(e("lodash.debounce")),p=o(e("classnames"));function o(e){return e&&e.__esModule?e:{default:e}}var g=function(e){return e},h=function(e){return d.default.createElement("span",null,e)},u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return l.onChange=function(e,t){var n=t.newValue;t.method;l.setState({value:n})},l.onSuggestionsFetchRequested=function(e){var t=e.value;if("input-focused"===e.reason)return!1;l.debouncedFetchSuggestionData(t)},l.onSuggestionsClearRequested=function(){l.setState({suggestions:[]})},l.componentDidMount=function(){},l.componentDidUpdate=function(){},l.fetchSuggestionData=function(n){l.setState({isLoading:!0});return fetch("/action/rwjf/search/autosuggest?k="+n,{credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){var t=e.results;l.setState({isLoading:!1,suggestions:l.getMatchingTerms(n,t)})})},l.getMatchingTerms=function(e,t){var n=e.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(""===n)return[];var r=new RegExp("^"+n,"i");return t.filter(function(e){return r.test(e)})},l.renderTextInput=function(e){var t=l.state,n=t.value,r=t.suggestions,a=t.isLoading,o=l.props,u=o.dataName,s=o.id,c=(0,p.default)("rwjf-global-autosuggest",{loading:a}),i={placeholder:e,value:n,onChange:l.onChange,id:s,name:u,className:"search-bar__input"};return d.default.createElement("div",{className:c},d.default.createElement(f.default,{suggestions:r,onSuggestionsFetchRequested:l.onSuggestionsFetchRequested,onSuggestionsClearRequested:l.onSuggestionsClearRequested,getSuggestionValue:g,renderSuggestion:h,inputProps:i}))},l.render=function(){return d.default.createElement("div",null,l.renderTextInput("Search RWJF"))},l.state={value:"",suggestions:[],isLoading:!1},l.debouncedFetchSuggestionData=(0,a.default)(l.fetchSuggestionData,300,!0),l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),t}();u.propTypes={onQueryChange:r.func.isRequired,onSelectChange:r.func.isRequired,searchKeyword:r.string,className:r.string,queryStringState:r.object,id:r.string,dataName:r.string},n.default=u},{classnames:"classnames","lodash.debounce":"lodash.debounce","prop-types":"prop-types",react:"react","react-autosuggest":"react-autosuggest"}],3:[function(e,t,n){"use strict";var r=u(e("react-dom")),a=u(e("react")),o=u(e("./components/App.jsx"));function u(e){return e&&e.__esModule?e:{default:e}}var s=document.querySelector(".globalSearchInput-tablet"),c=s.getAttribute("data-id"),i=s.getAttribute("data-name"),l=document.querySelector(".globalSearchInput"),d=l.getAttribute("data-id"),f=l.getAttribute("data-name");r.default.render(a.default.createElement(o.default,{id:c,dataName:i,placeholder:"Search"}),s),r.default.render(a.default.createElement(o.default,{id:d,dataName:f,placeholder:"Search"}),l)},{"./components/App.jsx":1,react:"react","react-dom":"react-dom"}]},{},[3]);
//# sourceMappingURL=global-search-generated.js.map
